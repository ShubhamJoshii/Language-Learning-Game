import{r as t,U as x,c as j,j as e,N as i,b as g}from"./index-aKGTNQ_R.js";import{G as f}from"./index-d2mgmRjc.js";import{n as v}from"./Notification-ADhk77XH.js";import"./iconBase-3nAHESNV.js";const O=()=>{const{userData:d,setUserData:C,checkUserAlreadyLogin:L}=t.useContext(x),[l,c]=t.useState(!1),[r,u]=t.useState(!1),a=t.useRef(null),o=j();t.useEffect(()=>{const s=m=>{a.current&&!a.current.contains(m.target)&&c(!1)};return document.addEventListener("click",s,!0),()=>{document.removeEventListener("click",s,!0)}},[l]);const h=async()=>{await g.get("/api/logout").then(s=>{console.log(s.data.message),v(s.data.message,"Success"),setTimeout(()=>{window.location.reload()},1e3)})};t.useEffect(()=>{let s=document.getElementById("menuSlider");r?(s.classList.add("menuSliderActive"),s.classList.remove("menuSliderUnActive")):(s.classList.add("menuSliderUnActive"),s.classList.remove("menuSliderActive"))},[r]);const n=()=>u(!r);return e.jsxs(e.Fragment,{children:[e.jsxs("header",{children:[e.jsx("h1",{children:"Language Learning Game"}),e.jsxs("ol",{children:[e.jsx("li",{children:e.jsx(i,{to:"/",className:o.pathname.includes("/home")?"active":"",children:"HOME"})}),e.jsx("li",{children:e.jsx(i,{to:"/scoreboard/UserPerformance",className:o.pathname.includes("/scoreboard")?"active":"",children:"SCORE BOARD"})}),e.jsx("li",{children:e.jsx(i,{to:"/AddQuiz",children:"Add Quiz"})}),d?e.jsx("li",{children:e.jsx("button",{onClick:()=>c(!l),children:"LOGOUT"})}):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsx(i,{to:"/login",children:"LOGIN"})}),e.jsx("li",{children:e.jsx(i,{to:"/register",children:"REGISTER"})})]})]}),e.jsx(f,{id:"hamburgerMenu",onClick:n}),e.jsxs("ul",{id:"menuSlider",children:[e.jsx(i,{to:"/",className:o.pathname.includes("/home")?"active":"",onClick:n,children:e.jsx("li",{className:"listText",children:"HOME"})}),e.jsx(i,{to:"/scoreboard/UserPerformance",className:o.pathname.includes("/scoreboard")?"active":"",onClick:n,children:e.jsx("li",{children:"SCORE BOARD"})}),e.jsx(i,{to:"/AddQuiz",onClick:n,children:e.jsx("li",{children:"Add Quiz"})}),d?e.jsx("button",{onClick:()=>{u(!r),c(!l)},children:e.jsx("li",{className:"listText",children:"LOGOUT"})}):e.jsxs(e.Fragment,{children:[e.jsx(i,{to:"/login",onClick:n,children:e.jsx("li",{className:"listText",children:"LOGIN"})}),e.jsx(i,{to:"/register",onClick:n,children:e.jsx("li",{className:"listText",children:"REGISTER"})})]})]})]}),l&&e.jsx("div",{id:"logout-confirmation",children:e.jsxs("div",{id:"logout-dialog",ref:a,children:[e.jsxs("h3",{children:["Are you sure ",e.jsx("br",{})," you want to logout?"]}),e.jsxs("div",{id:"buttons",children:[e.jsx("button",{onClick:()=>c(!l),children:"Cancel"}),e.jsx("button",{onClick:h,children:"Logout"})]})]})})]})};export{O as default};
