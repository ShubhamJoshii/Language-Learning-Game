import{r as n,j as e,b,N as h,u as g}from"./index-VZa65_VQ.js";import{L as m,D as x,B as j,C as S,A as k,b as y,c as B,P as C,d as E,e as v,f as P,p as M,a as O}from"./index-vftZAWZk.js";const L=()=>{const[t,l]=n.useState({}),c=()=>{let r=[],o=["red","green","blue","yellow","orange","darkblue"];const s=Object.keys(t);if(s.length>0)return s==null||s.map((u,p)=>{r.push({label:`${u}`,data:t[u],fill:!1,borderColor:`${o[p]}`,backgroundColor:`${o[p]}`,tension:.1})}),r},i={labels:[1,2,3,4,5,6,7,8,9,10],datasets:c()},d={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"User Performance in each Exercise"}}},a=async()=>{await b.get("/api/fetchUserPerformance").then(r=>{l(r.data.obj)})};return n.useEffect(()=>{c()},[t]),n.useEffect(()=>{a()},[]),e.jsx("div",{id:"cardLineChart",children:Object.keys(t).length>0&&e.jsx(m,{data:i,options:d})})},$=[{link:"/scoreboard/UserPerformance",Text:"User Performance"},{link:"/scoreboard/ScoreBoard",Text:"Score Board"},{link:"/scoreboard/GlobalScoreBoard",Text:"Global Score Board"}],A=()=>e.jsx("div",{id:"ScoreBoardHeader",children:$.map((t,l)=>e.jsx(h,{to:t.link,style:{color:`#${Math.floor(Math.random()*16777215).toString(16)}`},children:t.Text}))}),G=()=>{const[t,l]=n.useState([]),c=(a,r)=>({labels:["Correct","In-Correct"],datasets:[{labels:"Poll",data:a,backgroundColor:[`${"#"+Math.floor(Math.random()*16777215).toString(16)}`,"black"],borderColor:[`${"#"+Math.floor(Math.random()*16777215).toString(16)}`,"black"],hoverOffset:4}]}),i=(a="English")=>({responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:`${a} Quiz`}}}),d=async()=>{await b.get("/api/fetchAllResult").then(a=>{l(a.data.dataList)})};return n.useEffect(()=>{d()},[]),e.jsx(e.Fragment,{children:t.map((a,r)=>{let o=Object.keys(a)[0];return e.jsx("div",{id:"card",children:e.jsx(x,{data:c(a[o]),options:i(o)})},r)})})},U=()=>{const[t,l]=n.useState({}),c=()=>[{label:"Quiz Ranked",data:Object.values(t),fill:!1,borderColor:`#${Math.floor(Math.random()*16777215).toString(16)}`,backgroundColor:`#${Math.floor(Math.random()*16777215).toString(16)}`}],i={labels:Object.keys(t),datasets:c()},d={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Global Score Board"}}},a=async()=>{await b.get("/api/fetchGlobalScore").then(r=>{let o=r.data.result,s=Object.entries(o);s.sort((p,f)=>f[1]-p[1]);let u=Object.fromEntries(s);l(u)})};return n.useEffect(()=>{a()},[]),e.jsx("div",{id:"cardLineChart",children:e.jsx(j,{options:d,data:i})})};S.register(k,y,B,C,E,v,P,M,O);const R=()=>{const t=g();return e.jsxs(e.Fragment,{children:[e.jsx(A,{}),e.jsxs("div",{id:"Score-Board",children:[t.type==="UserPerformance"&&e.jsx(L,{}),t.type==="ScoreBoard"&&e.jsx(G,{}),t.type==="GlobalScoreBoard"&&e.jsx(U,{})]})]})};export{R as default};
