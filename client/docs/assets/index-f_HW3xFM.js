import{r as c,j as e,b as d}from"./index-Ckk89BHt.js";import{n as l}from"./Notification-lG2Zp-Hp.js";const j=()=>{const[s,g]=c.useState(),[i,u]=c.useState({Language:"",Quiz:[],QuizQuestion:"",QuizCount:0,Answer:"",Difficulty_Level:1,Existing:!0}),Q=async()=>{await d.get("/api/fetchAllQuiz").then(t=>{g(t.data.Data),console.log(t.data.Data)}).catch(t=>{console.log(t)})};c.useEffect(()=>{Q()},[]);const o=t=>{const n=t.target.name,a=t.target.value;u({...i,[n]:a})},h=(t,n)=>{const a=t.target.value;let r=i.Quiz;r[n]=a,u({...i,Quiz:r})},z=async t=>{if(t.preventDefault(),i.Quiz.length>=2&&i.Answer){let n={question:i.QuizQuestion,Options:i.Quiz,Answer:i.Answer,Difficulty_Level:i.Difficulty_Level};await d.post("/api/addQuiz",{Language:i.Language,Questions:n}).then(a=>{console.log(a.data),l(a.data.message,"Sucess")})}else i.Quiz.length<2?l("Add Choice More than 2 Choice","UnSucess"):i.Answer&&l("First, Select Answer Please","UnSucess")};return e.jsxs("div",{id:"AddQuiz",children:[e.jsxs("div",{id:"Add-selectLanguage",children:[e.jsxs("div",{id:"selectLanguage",children:[e.jsx("label",{htmlFor:"QuizSelect",children:"Select Quiz Language"}),e.jsxs("select",{name:"QuizSelect",id:"QuizSelect",onClick:t=>u({...i,Language:t.target.value,Existing:!0}),children:[e.jsx("option",{selected:!0,value:"",children:"--select--"}),s==null?void 0:s.map((t,n)=>e.jsx("option",{value:t.Language,children:t.Language}))]})]}),e.jsx("button",{id:"AddQuiz",onClick:t=>u({...i,Language:"",Quiz:[],QuizQuestion:"",QuizCount:0,Answer:"",Difficulty_Level:1,Existing:!1}),children:"Add New Quiz Language"})]}),e.jsxs("form",{id:"Add-New-Quiz-Language",onSubmit:z,children:[!i.Existing&&e.jsxs(e.Fragment,{children:[e.jsx("label",{htmlFor:"Language",children:"Language"}),e.jsx("input",{id:"Language",name:"Language",value:i.Language,onChange:o})]}),e.jsx("label",{htmlFor:"QuizQuestion",children:"Add Quesiton Quiz"}),e.jsx("textarea",{id:"QuizQuestion",name:"QuizQuestion",value:i.QuizQuestion,onChange:o}),e.jsx("button",{onClick:t=>{t.preventDefault();let n=i.QuizCount;n>3?l("Maximum 4 quiz row Allowed","Warning"):u({...i,QuizCount:n+1})},children:"Add Quiz Row"}),[...Array(i.QuizCount)].map((t,n)=>e.jsxs("div",{id:"choices",children:[e.jsxs("label",{htmlFor:"Language",children:["Choice ",n+1]}),e.jsx("input",{id:"Language",name:"Language",value:i.Quiz[n],onChange:a=>h(a,n)})]},n)),i.QuizCount>=2&&e.jsxs(e.Fragment,{children:[e.jsx("label",{htmlFor:"QuizSelect",children:"Select Answer"}),e.jsxs("select",{name:"QuizSelect",id:"QuizSelect",onChange:t=>u({...i,Answer:t.target.value}),children:[e.jsx("option",{selected:!0,value:"",children:"--select--"}),i.Quiz.map((t,n)=>e.jsx("option",{value:t,children:t}))]}),e.jsx("label",{htmlFor:"QuizSelect",children:"Difficulty Level"}),e.jsxs("select",{name:"QuizSelect",id:"QuizSelect",onChange:t=>u({...i,Difficulty_Level:t.target.value}),children:[e.jsx("option",{selected:!0,value:"",children:"--select--"}),[...Array(3)].map((t,n)=>e.jsx("option",{value:n+1,children:n+1}))]})]}),e.jsx("input",{type:"submit",value:"Add New Quiz Language"})]})]})};export{j as default};
